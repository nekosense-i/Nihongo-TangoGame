
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Êó•Êú¨Ë™û„ÉÅ„É£„É¨„É≥„Ç∏ - Ultimate Spring V5.1</title>
    <style>
        :root {
            --bg: #fffbf0; --primary-pink: #ffb7b2; --primary-green: #b5ead7;
            --text-main: #5d4037; --text-sub: #8d6e63; --correct: #81c784; --wrong: #ff8a80;
            --shadow: 0 4px 12px rgba(93, 64, 55, 0.08);
            --footer-h: 28vh;
        }
        * { box-sizing: border-box; user-select: none; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: 'Hiragino Kaku Gothic ProN', sans-serif; background: var(--bg); color: var(--text-main);
            margin: 0; height: 100vh; width: 100vw; overflow: hidden; display: flex; flex-direction: column;
        }
        header {
            flex: 0 0 45px; background: #fff; border-bottom: 1px solid var(--primary-pink);
            padding: 0 15px; display: flex; justify-content: space-between; align-items: center;
        }
        h1 { font-size: 14px; margin: 0; font-weight: 600; opacity: 0.6; }
        #mascot-area { display: flex; align-items: center; gap: 8px; }
        #mascot-face { font-size: 20px; animation: mascotBounce 2s infinite ease-in-out; }
        @keyframes mascotBounce { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-3px);} }
        #mascot-msg { font-size: 11px; background: #fffac8; padding: 2px 10px; border-radius: 10px; border: 1px solid #eee; }
        #game-area {
            flex: 1; display: flex; flex-direction: column; align-items: center; 
            padding: 5px 20px; justify-content: flex-start; margin-top: 4vh; position: relative;
        }
        #word-display { 
            font-weight: 800; margin-bottom: 5px; text-shadow: 2px 2px 0 #fff; z-index: 5;
            white-space: nowrap; overflow: hidden; width: 95vw; text-align: center;
            display: flex; align-items: center; justify-content: center; line-height: 1.2;
        }
        #feedback { font-size: 16px; font-weight: bold; height: 24px; margin-bottom: 8px; }
        .quiz-container { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; width: 100%; max-width: 850px; }
        @media (orientation: portrait) { .quiz-container { grid-template-columns: 1fr; } }
        .zone { background: #fff; padding: 8px; border-radius: 15px; box-shadow: var(--shadow); }
        .zone-label { font-size: 10px; color: var(--text-sub); border-left: 3px solid var(--primary-pink); padding-left: 5px; margin-bottom: 5px; }
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 6px; }
        .opt-btn {
            background: #fff; border: 1px solid #f0f0f0; padding: 12px 0; border-radius: 10px;
            font-size: 15px; cursor: pointer; box-shadow: 0 3px 0 #eee; transition: all 0.1s;
        }
        .opt-btn.correct { background: var(--primary-green) !important; color: #fff; border-color: var(--primary-green); }
        .opt-btn.wrong { background: var(--wrong) !important; color: #fff; border-color: var(--wrong); }
        #spell-area { width: 100%; max-width: 700px; display: flex; flex-direction: column; align-items: center; }
        .furigana-display { display: flex; gap: 6px; min-height: 40px; margin-bottom: 12px; background: rgba(255,255,255,0.7); padding: 5px 20px; border-radius: 25px; }
        .furi-char { width: 30px; height: 30px; border-bottom: 2px solid var(--primary-pink); font-size: 18px; display: flex; align-items: center; justify-content: center; font-weight: bold; }
        .furi-char.filled { cursor: pointer; color: var(--text-main); }
        .furi-char.filled:hover { color: var(--wrong); border-bottom-color: var(--wrong); }
        .kana-pool { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; width: fit-content; }
        .kana-block {
            width: 55px; height: 55px; background: #fff; border: 1px solid #eee; border-radius: 12px;
            font-size: 22px; display: flex; align-items: center; justify-content: center; cursor: pointer;
            box-shadow: 0 4px 0 #eee; transition: none;
        }
        .kana-block.clicked { transform: translateY(4px); box-shadow: 0 0 0 #eee; background: var(--primary-pink); color: #fff; }
        footer {
            flex: 0 0 var(--footer-h); height: var(--footer-h); background: #fff; border-top: 1px solid #eee; 
            padding: 12px 15px 40px; z-index: 20; display: flex; flex-direction: column; box-shadow: 0 -5px 15px rgba(0,0,0,0.03);
        }
        .stats-bar { display: flex; justify-content: space-between; font-size: 11px; padding-bottom: 8px; color: var(--text-sub); flex: 0 0 auto; }
        .level-selector-scroll { flex: 1; overflow-y: auto; scrollbar-width: none; border-radius: 10px; background: #fafafa; padding: 5px; }
        .level-selector-scroll::-webkit-scrollbar { display: none; }
        .level-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
        .lvl-btn {
            background: #fff; color: var(--text-sub); border: 1px solid #eee; border-radius: 10px; 
            padding: 10px; font-size: 12px; white-space: nowrap; text-align: center; cursor: pointer; box-shadow: 0 2px 0 #eee;
        }
        .lvl-btn.active { background: var(--primary-green); color: #fff; border-color: var(--primary-green); box-shadow: 0 2px 0 #81c784; }
        #honor-wall { display: flex; align-items: center; gap: 4px; margin-top: 8px; overflow-x: auto; border-top: 1px dashed #eee; padding-top: 6px; flex: 0 0 auto; }
        .medal { font-size: 16px; }
        #result-overlay { position: absolute; inset: 0; background: rgba(255,255,255,0.98); display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 100; }
        .next-btn { padding: 15px 50px; font-size: 20px; background: var(--primary-green); color: #fff; border: none; border-radius: 50px; font-weight: bold; cursor: pointer; }
        .word-glow { animation: bounce 0.6s ease; color: var(--correct) !important; }
        @keyframes bounce { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-10px);} }
        #thunder-flash { position: fixed; inset: 0; background: white; pointer-events: none; opacity: 0; z-index: 999; }
        .flash-active { animation: thunderEffect 0.3s ease-out; }
        @keyframes thunderEffect { 0% { opacity: 0; } 50% { opacity: 0.3; } 100% { opacity: 0; } }
        .shake-screen { animation: shakeEffect 0.3s cubic-bezier(.36,.07,.19,.97) both; }
        @keyframes shakeEffect {
            10%, 90% { transform: translate3d(-1px, 1px, 0); }
            20%, 80% { transform: translate3d(2px, -2px, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 4px, 0); }
            40%, 60% { transform: translate3d(4px, -4px, 0); }
        }
        .confetti { position: fixed; width: 8px; height: 8px; z-index: 999; pointer-events: none; animation: fall linear forwards; }
        @keyframes fall { to { transform: translateY(100vh) rotate(720deg); opacity: 0; } }
        .hidden { display: none !important; }
    </style>
</head>
<body id="main-body">
<div id="thunder-flash"></div>
<header>
    <h1>Êó•Êú¨Ë™û„ÉÅ„É£„É¨„É≥„Ç∏</h1>
    <div id="mascot-area"><div id="mascot-msg">„Åå„Çì„Å∞„Å£„Å¶ÔºÅ</div><div id="mascot-face">(ÔΩ°ÔΩ•œâÔΩ•ÔΩ°)</div></div>
    <button style="background:transparent; border:none; color:var(--wrong); font-size:10px; cursor:pointer;" onclick="resetProgress()">ÈáçÁΩÆ</button>
</header>
<div id="game-area">
    <div id="word-display">Loading...</div>
    <div id="feedback"></div>
    <div id="furigana-area" class="furigana-display hidden"></div>
    <div class="quiz-container" id="choice-area">
        <div class="zone" id="reading-zone"><div class="zone-label">Ë™≠„ÅøÊñπ</div><div class="options-grid" id="reading-opts"></div></div>
        <div class="zone" id="meaning-zone"><div class="zone-label">ÊÑèÂë≥</div><div class="options-grid" id="meaning-opts"></div></div>
    </div>
    <div id="spell-area" class="hidden"><div class="kana-pool" id="kana-pool"></div></div>
    <div id="result-overlay" class="hidden">
        <div id="res-emoji" style="font-size:60px;">üèÜ</div>
        <div id="res-title" style="font-size:22px; font-weight:bold; margin: 15px 0;">ÂêàÊ†ºÔºÅ</div>
        <button class="next-btn" onclick="nextLevelAction()">‰∏ã‰∏ÄÂÖ≥ (NEXT)</button>
    </div>
</div>
<footer>
    <div class="stats-bar">
        <span>LV: <span id="current-lvl-disp">1</span></span>
        <span>ÁßØÂàÜ: <span id="score">0</span></span>
        <span>ËøõÂ∫¶: <span id="progress">1</span>/20</span>
    </div>
    <div class="level-selector-scroll">
        <div class="level-grid" id="lvl-selector"></div>
    </div>
    <div id="honor-wall"><span style="font-size:9px; color:#aaa;">Ëç£Ë™âÂ¢ô:</span><div id="medals-container" style="display:flex; gap:2px;"></div></div>
</footer>
<script>
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    function playTone(f, t, d) {
        const o = audioCtx.createOscillator(); const g = audioCtx.createGain();
        o.type = t; o.frequency.setValueAtTime(f, audioCtx.currentTime);
        g.gain.setValueAtTime(0.1, audioCtx.currentTime); g.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime+d);
        o.connect(g); g.connect(audioCtx.destination); o.start(); o.stop(audioCtx.currentTime+d);
    }
    const sounds = {
        click: () => playTone(950, 'sine', 0.08),
        correct: () => { playTone(523.25, 'sine', 0.15); setTimeout(()=>playTone(659.25,'sine',0.15),80); },
        wrong: () => { playTone(180, 'triangle', 0.3); }
    };
    const decodedData = atob("W1si44GE44GEIiwgIuOBhOOBhCIsICLlpb3nmoQiLCAiYSJdLCBbIuaCquOBhCIsICLjgo/jgovjgYQiLCAi5Z2P55qEIiwgImEiXSwgWyLlpKfjgY3jgYQiLCAi44GK44GK44GN44GEIiwgIuWkp+eahCIsICJhIl0sIFsi5bCP44GV44GEIiwgIuOBoeOBhOOBleOBhCIsICLlsI/nmoQiLCAiYSJdLCBbIuWkmuOBhCIsICLjgYrjgYrjgYQiLCAi5aSa55qEIiwgImEiXSwgWyLlsJHjgarjgYQiLCAi44GZ44GP44Gq44GEIiwgIuWwkeeahCIsICJhIl0sIFsi6auY44GEIiwgIuOBn+OBi+OBhCIsICLpq5gv6LS155qEIiwgImEiXSwgWyLlronjgYQiLCAi44KE44GZ44GEIiwgIuS+v+WunOeahCIsICJhIl0sIFsi5pep44GEIiwgIuOBr+OChOOBhCIsICLml6kv5b+r55qEIiwgImEiXSwgWyLpgYXjgYQiLCAi44GK44Gd44GEIiwgIuaZmi/mhaLnmoQiLCAiYSJdLCBbIuaakeOBhCIsICLjgYLjgaTjgYQiLCAi54Ot55qEIiwgImEiXSwgWyLlr5LjgYQiLCAi44GV44KA44GEIiwgIuWGt+eahCIsICJhIl0sIFsi5paw44GX44GEIiwgIuOBguOBn+OCieOBl+OBhCIsICLmlrDnmoQiLCAiYSJdLCBbIuWPpOOBhCIsICLjgbXjgovjgYQiLCAi5pen55qEIiwgImEiXSwgWyLpm6PjgZfjgYQiLCAi44KA44Ga44GL44GX44GEIiwgIumavueahCIsICJhIl0sIFsi5YSq44GX44GEIiwgIuOChOOBleOBl+OBhCIsICLmuKnmn5TnmoQiLCAiYSJdLCBbIuaYk+OBl+OBhCIsICLjgoTjgZXjgZfjgYQiLCAi5a655piT55qEIiwgImEiXSwgWyLlv5njgZfjgYQiLCAi44GE44Gd44GM44GX44GEIiwgIuW/meeahCIsICJhIl0sIFsi5pqHIiwgIuOBsuOBviIsICLnqbrpl7LnmoQiLCAiYSJdLCBbIualveOBl+OBhCIsICLjgZ/jga7jgZfjgYQiLCAi5oSJ5b+r55qEIiwgImEiXSwgWyLpnaLnmb3jgYQiLCAi44GK44KC44GX44KN44GEIiwgIuaciei2o+eahCIsICJhIl0sIFsi5by344GEIiwgIuOBpOOCiOOBhCIsICLlvLrnmoQiLCAiYSJdLCBbIuW8seOBhCIsICLjgojjgo/jgYQiLCAi5byx55qEIiwgImEiXSwgWyLplbfjgYQiLCAi44Gq44GM44GEIiwgIumVv+eahCIsICJhIl0sIFsi55+t44GEIiwgIuOBv+OBmOOBi+OBhCIsICLnn63nmoQiLCAiYSJdLCBbIueZveOBhCIsICLjgZfjgo3jgYQiLCAi55m955qEIiwgImEiXSwgWyLpu5HjgYQiLCAi44GP44KN44GEIiwgIum7keeahCIsICJhIl0sIFsi6LWk44GEIiwgIuOBguOBi+OBhCIsICLnuqLnmoQiLCAiYSJdLCBbIumdkuOBhCIsICLjgYLjgYrjgYQiLCAi6JOd55qEIiwgImEiXSwgWyLmmpfjgYQiLCAi44GP44KJ44GEIiwgIuaal+eahCIsICJhIl0sIFsi5pep44GEIiwgIuOBr+OChOOBhCIsICLlv6vnmoQiLCAiYSJdLCBbIumBheOBhCIsICLjgYrjgZ3jgYQiLCAi5pma55qEIiwgImEiXSwgWyLlhrfjgZ/jgYQiLCAi44Gk44KB44Gf44GEIiwgIuWHieeahCIsICJhIl0sIFsi5Y+v5oSb44GEIiwgIuOBi+OCj+OBhOOBhCIsICLlj6/niLHnmoQiLCAiYSJdLCBbIuOBi+OBo+OBk+OBhOOBhCIsICLjgYvjgaPjgZPjgYTjgYQiLCAi5biF5rCU55qEIiwgImEiXSwgWyLkuLjjgYQiLCAi44G+44KL44GEIiwgIuWchueahCIsICJhIl0sIFsi44GN44KM44GEIiwgIuOBjeOCjOOBhCIsICLmvILkuq4v5bmy5YeA55qEIiwgImEiXSwgWyLkvr/liKkiLCAi44G544KT44KKIiwgIuS+v+WIqeeahCIsICJhIl0sIFsi5pyJ5ZCNIiwgIuOChuOBhuOCgeOBhCIsICLmnInlkI3nmoQiLCAiYSJdLCBbIumdmeOBiyIsICLjgZfjgZrjgYsiLCAi5a6J6Z2Z55qEIiwgImEiXSwgWyLos5HjgoTjgYsiLCAi44Gr44GO44KE44GLIiwgIueDremXueeahCIsICJhIl0sIFsi5aSn5YiHIiwgIuOBn+OBhOOBm+OBpCIsICLph43opoHnmoQiLCAiYSJdLCBbIuewoeWNmCIsICLjgYvjgpPjgZ/jgpMiLCAi566A5Y2V55qEIiwgImEiXSwgWyLlpKfkuIjlpKsiLCAi44Gg44GE44GY44KH44GG44G2IiwgIuayoeWFs+ezu+eahCIsICJhIl0sIFsi5YWD5rCXIiwgIuOBkuOCk+OBjSIsICLnsr7npZ7nmoQiLCAiYSJdLCBbIuWlveOBjSIsICLjgZnjgY0iLCAi5Zac5qyi55qEIiwgImEiXSwgWyLlq4zjgYQiLCAi44GN44KJ44GEIiwgIuiuqOWOjOeahCIsICJhIl0sIFsi5LiK5omLIiwgIuOBmOOCh+OBhuOBmiIsICLmk4Xplb/nmoQiLCAiYSJdLCBbIuS4i+aJiyIsICLjgbjjgZ8iLCAi56yo5ouZ55qEIiwgImEiXSwgWyLlv4XopoEiLCAi44Gy44Gk44KI44GGIiwgIuW/heimgeeahCIsICJhIl0sIFsi44GE44KN44GE44KNIiwgIuOBhOOCjeOBhOOCjSIsICLlkITnp43lkITmoLfnmoQiLCAiYSJdLCBbIuOBleOBvuOBluOBviIsICLjgZXjgb7jgZbjgb4iLCAi5ZCE56eN5ZCE5qC355qEIiwgImEiXSwgWyLlkIzjgZgiLCAi44GK44Gq44GYIiwgIuebuOWQjOeahCIsICJhIl0sIFsi44KI44GPIiwgIuOCiOOBjyIsICLnu4/luLgiLCAiYWQiXSwgWyLjgZ/jgY/jgZXjgpMiLCAi44Gf44GP44GV44KTIiwgIuW+iOWkmiIsICJhZCJdLCBbIuWwkeOBlyIsICLjgZnjgZPjgZciLCAi5LiA54K5IiwgImFkIl0sIFsi44Go44Gm44KCIiwgIuOBqOOBpuOCgiIsICLpnZ7luLgiLCAiYWQiXSwgWyLjgYLjgb7jgooiLCAi44GC44G+44KKIiwgIuS4jeWkqiIsICJhZCJdLCBbIuOCguOBhiIsICLjgoLjgYYiLCAi5bey57uPIiwgImFkIl0sIFsi44KC44GG5LiA44GkIiwgIuOCguOBhuOBsuOBqOOBpCIsICLlho3kuIDkuKoiLCAiYWQiXSwgWyLjgoLjgYblsJHjgZciLCAi44KC44GG44GZ44GT44GXIiwgIuWGjeeojeW+riIsICJhZCJdLCBbIuOBvuOBoCIsICLjgb7jgaAiLCAi6L+YIiwgImFkIl0sIFsi44G+44GfIiwgIuOBvuOBnyIsICLlj4giLCAiYWQiXSwgWyLjgZnjgZAiLCAi44GZ44GQIiwgIumprOS4iiIsICJhZCJdLCBbIuOCguOBhuOBmeOBkCIsICLjgoLjgYbjgZnjgZAiLCAi5b6I5b+rIiwgImFkIl0sIFsi44GE44Gk44KCIiwgIuOBhOOBpOOCgiIsICLmgLvmmK8iLCAiYWQiXSwgWyLjgYTjgaTjgYsiLCAi44GE44Gk44GLIiwgIuS7gOS5iOaXtuWAmSIsICJhZCJdLCBbIuaZguOAhSIsICLjgajjgY3jganjgY0iLCAi5pyJ5pe2IiwgImFkIl0sIFsi44Gg44KT44Gg44KTIiwgIuOBoOOCk+OBoOOCkyIsICLpgJDmuJAiLCAiYWQiXSwgWyLkuIDnt5LjgasiLCAi44GE44Gj44GX44KH44GrIiwgIuS4gOi1tyIsICJhZCJdLCBbIuS4gOS6uuOBpyIsICLjgbLjgajjgorjgaciLCAi54us6IeqIiwgImFkIl0sIFsi5YWo6YOoIiwgIuOBnOOCk+OBtiIsICLlhajpg6giLCAibiJdLCBbIuWFiOOBqyIsICLjgZXjgY3jgasiLCAi5YWIIiwgImFkIl0sIFsi44GV44Gj44GNIiwgIuOBleOBo+OBjSIsICLliJrmiY0iLCAiYWQiXSwgWyLlvozjgaciLCAi44GC44Go44GnIiwgIueojeWQjiIsICJhZCJdLCBbIuOChuOBo+OBj+OCiiIsICLjgobjgaPjgY/jgooiLCAi5oWi5oWi5ZywIiwgImFkIl0sIFsi44Gv44Gj44GN44KKIiwgIuOBr+OBo+OBjeOCiiIsICLmuIXmpZrlnLAiLCAiYWQiXSwgWyLjgoLjgaPjgagiLCAi44KC44Gj44GoIiwgIuabtOWKoCIsICJhZCJdLCBbIuOBnOOBsiIsICLjgZzjgbIiLCAi5Yqh5b+FIiwgImFkIl0sIFsi5b+F44GaIiwgIuOBi+OBquOCieOBmiIsICLkuIDlrpoiLCAiYWQiXSwgWyLjgY3jgaPjgagiLCAi44GN44Gj44GoIiwgIuS4gOWumiIsICJhZCJdLCBbIuOBp+OCgiIsICLjgafjgoIiLCAi5L2G5pivIiwgImMiXSwgWyLjgZfjgYvjgZciLCAi44GX44GL44GXIiwgIuS9huaYryIsICJjIl0sIFsi44G744GpIiwgIuOBu+OBqSIsICLnqIvluqYiLCAiYWQiXSwgWyLjgaTjgb7jgooiLCAi44Gk44G+44KKIiwgIuS5n+WwseaYr+ivtCIsICJjIl0sIFsi44GL44Gq44KKIiwgIuOBi+OBquOCiiIsICLnm7jlvZMiLCAiYWQiXSwgWyLjgarjgYvjgarjgYsiLCAi44Gq44GL44Gq44GLIiwgIuebuOW9kyIsICJhZCJdLCBbIuOBp+OBjeOCi+OBoOOBkSIsICLjgafjgY3jgovjgaDjgZEiLCAi5bC95Y+v6IO9IiwgImFkIl0sIFsi44G744Go44KT44GpIiwgIuOBu+OBqOOCk+OBqSIsICLlh6DkuY4iLCAiYWQiXSwgWyLjgoTjgaPjgagiLCAi44KE44Gj44GoIiwgIue7iOS6jiIsICJhZCJdLCBbIuWkp+S9kyIsICLjgaDjgYTjgZ/jgYQiLCAi5aSn5qaCIiwgImFkIl0sIFsi44KC44Gh44KN44KTIiwgIuOCguOBoeOCjeOCkyIsICLlvZPnhLYiLCAiYWQiXSwgWyLjgaDjgZEiLCAi44Gg44GRIiwgIuWPqiIsICJhZCJdLCBbIuOBl+OBi+OAnOOBquOBhCIsICLjgZfjgYvjgJzjgarjgYQiLCAi5Y+q5pyJIiwgImFkIl0sIFsi44Gd44KM44GnIiwgIuOBneOCjOOBpyIsICLlm6DmraQiLCAiYyJdLCBbIuOBneOBk+OBpyIsICLjgZ3jgZPjgaciLCAi5LqO5pivIiwgImMiXSwgWyLjgZ3jgZfjgaYiLCAi44Gd44GX44GmIiwgIueEtuWQjiIsICJjIl0sIFsi44Gd44KM44Gn44GvIiwgIuOBneOCjOOBp+OBryIsICLpgqPkuYgiLCAiYyJdLCBbIuOBneOCjOOBquOCiSIsICLjgZ3jgozjgarjgokiLCAi6YKj5qC355qE6K+dIiwgImMiXSwgWyLjgZ3jgozjgYvjgokiLCAi44Gd44KM44GL44KJIiwgIui/mOaciSIsICJjIl0sIFsi44GT44KM44GL44KJIiwgIuOBk+OCjOOBi+OCiSIsICLku4rlkI4iLCAidCJdLCBbIuS7iuaXpSIsICLjgY3jgofjgYYiLCAi5LuK5aSpIiwgInQiXSwgWyLmmI7ml6UiLCAi44GC44GX44GfIiwgIuaYjuWkqSIsICJ0Il0sIFsi5pio5pelIiwgIuOBjeOBruOBhiIsICLmmKjlpKkiLCAidCJdLCBbIuacnSIsICLjgYLjgZUiLCAi5pep5LiKIiwgInQiXSwgWyLmmLwiLCAi44Gy44KLIiwgIueZveWkqSIsICJ0Il0sIFsi5aScIiwgIuOCiOOCiyIsICLmmZrkuIoiLCAidCJdLCBbIuS7iiIsICLjgYTjgb4iLCAi546w5ZyoIiwgInQiXSwgWyLliY0iLCAi44G+44GIIiwgIuS7peWJjSIsICJ0Il0sIFsi5b6MIiwgIuOBguOBqCIsICLku6XlkI4iLCAidCJdLCBbIuaZgiIsICLjgajjgY0iLCAi5pe25YCZIiwgInQiXSwgWyLljrvlubQiLCAi44GN44KH44Gt44KTIiwgIuWOu+W5tCIsICJ0Il0sIFsi5LuK5bm0IiwgIuOBk+OBqOOBlyIsICLku4rlubQiLCAidCJdLCBbIuadpeW5tCIsICLjgonjgYTjga3jgpMiLCAi5piO5bm0IiwgInQiXSwgWyLlhYjmnIgiLCAi44Gb44KT44GS44GkIiwgIuS4iuS4quaciCIsICJ0Il0sIFsi5LuK5pyIIiwgIuOBk+OCk+OBkuOBpCIsICLov5nkuKrmnIgiLCAidCJdLCBbIuadpeaciCIsICLjgonjgYTjgZLjgaQiLCAi5LiL5Liq5pyIIiwgInQiXSwgWyLlhYjpgLEiLCAi44Gb44KT44GX44KF44GGIiwgIuS4iuWRqCIsICJ0Il0sIFsi5LuK6YCxIiwgIuOBk+OCk+OBl+OCheOBhiIsICLov5nlkagiLCAidCJdLCBbIuadpemAsSIsICLjgonjgYTjgZfjgoXjgYYiLCAi5LiL5ZGoIiwgInQiXSwgWyLmmYLplpMiLCAi44GY44GL44KTIiwgIuaXtumXtCIsICJuIl0sIFsi5LiA44GkIiwgIuOBsuOBqOOBpCIsICLkuIDkuKoiLCAibiJdLCBbIuS6jOOBpCIsICLjgbXjgZ/jgaQiLCAi5LqM5LiqIiwgIm4iXSwgWyLkuInjgaQiLCAi44G/44Gj44GkIiwgIuS4ieS4qiIsICJuIl0sIFsi5Zub44GkIiwgIuOCiOOBo+OBpCIsICLlm5vkuKoiLCAibiJdLCBbIuS6lOOBpCIsICLjgYTjgaTjgaQiLCAi5LqU5LiqIiwgIm4iXSwgWyLlha3jgaQiLCAi44KA44Gj44GkIiwgIuWFreS4qiIsICJuIl0sIFsi5LiD44GkIiwgIuOBquOBquOBpCIsICLkuIPkuKoiLCAibiJdLCBbIuWFq+OBpCIsICLjgoTjgaPjgaQiLCAi5YWr5LiqIiwgIm4iXSwgWyLkuZ3jgaQiLCAi44GT44GT44Gu44GkIiwgIuS5neS4qiIsICJuIl0sIFsi5Y2BIiwgIuOBqOOBiiIsICLljYHkuKoiLCAibiJdLCBbIuS4gOaXpSIsICLjgaTjgYTjgZ/jgaEiLCAi5LiA5Y+3IiwgIm4iXSwgWyLkuozml6UiLCAi44G144Gk44GLIiwgIuS6jOWPtyIsICJuIl0sIFsi5LiJ5pelIiwgIuOBv+OBo+OBiyIsICLkuInlj7ciLCAibiJdLCBbIuWbm+aXpSIsICLjgojjgaPjgYsiLCAi5Zub5Y+3IiwgIm4iXSwgWyLkupTml6UiLCAi44GE44Gk44GLIiwgIuS6lOWPtyIsICJuIl0sIFsi5YWt5pelIiwgIuOCgOOBhOOBiyIsICLlha3lj7ciLCAibiJdLCBbIuS4g+aXpSIsICLjgarjga7jgYsiLCAi5LiD5Y+3IiwgIm4iXSwgWyLlhavml6UiLCAi44KI44GG44GLIiwgIuWFq+WPtyIsICJuIl0sIFsi5Lmd5pelIiwgIuOBk+OBk+OBruOBiyIsICLkuZ3lj7ciLCAibiJdLCBbIuWNgeaXpSIsICLjgajjgYrjgYsiLCAi5Y2B5Y+3IiwgIm4iXSwgWyLmnIjmm5zml6UiLCAi44GS44Gk44KI44GG44GzIiwgIuWRqOS4gCIsICJuIl0sIFsi54Gr5puc5pelIiwgIuOBi+OCiOOBhuOBsyIsICLlkajkuowiLCAibiJdLCBbIuawtOabnOaXpSIsICLjgZnjgYTjgojjgYbjgbMiLCAi5ZGo5LiJIiwgIm4iXSwgWyLmnKjmm5zml6UiLCAi44KC44GP44KI44GG44GzIiwgIuWRqOWbmyIsICJuIl0sIFsi6YeR5puc5pelIiwgIuOBjeOCk+OCiOOBhuOBsyIsICLlkajkupQiLCAibiJdLCBbIuWcn+abnOaXpSIsICLjganjgojjgYbjgbMiLCAi5ZGo5YWtIiwgIm4iXSwgWyLml6Xmm5zml6UiLCAi44Gr44Gh44KI44GG44GzIiwgIuWRqOaXpSIsICJuIl0sIFsi5LuK5pydIiwgIuOBkeOBlSIsICLku4rml6kiLCAidCJdLCBbIuS7iuaZqSIsICLjgZPjgpPjgbDjgpMiLCAi5LuK5pmaIiwgInQiXSwgWyLlhajpg6giLCAi44Gc44KT44G2IiwgIuWFqOmDqCIsICJuIl0sIFsi5a625pePIiwgIuOBi+OBnuOBjyIsICLlrrbkuroiLCAibiJdLCBbIuWPi+mBlCIsICLjgajjgoLjgaDjgaEiLCAi5pyL5Y+LIiwgIm4iXSwgWyLlrZDkvpsiLCAi44GT44Gp44KCIiwgIuWtqeWtkCIsICJuIl0sIFsi5Lq6IiwgIuOBsuOBqCIsICLkuroiLCAibiJdLCBbIueUtyIsICLjgYrjgajjgZMiLCAi55S35Lq6IiwgIm4iXSwgWyLlpbMiLCAi44GK44KT44GqIiwgIuWls+S6uiIsICJuIl0sIFsi6Ieq5YiGIiwgIuOBmOOBtuOCkyIsICLoh6rlt7EiLCAibiJdLCBbIuOBv+OCk+OBqiIsICLjgb/jgpPjgaoiLCAi5aSn5a62IiwgIm4iXSwgWyLlkI3liY0iLCAi44Gq44G+44GIIiwgIuWQjeWtlyIsICJuIl0sIFsi5LuV5LqLIiwgIuOBl+OBlOOBqCIsICLlt6XkvZwiLCAibiJdLCBbIuS8muekviIsICLjgYvjgYTjgZfjgoMiLCAi5YWs5Y+4IiwgIm4iXSwgWyLpioDooYwiLCAi44GO44KT44GT44GGIiwgIumTtuihjCIsICJuIl0sIFsi5a62IiwgIuOBhuOBoSIsICLlrrYiLCAibiJdLCBbIuW6lyIsICLjgb/jgZsiLCAi5bqXIiwgIm4iXSwgWyLpg6jlsYsiLCAi44G444KEIiwgIuaIv+mXtCIsICJuIl0sIFsi6aeFIiwgIuOBiOOBjSIsICLovabnq5kiLCAibiJdLCBbIumDteS+v+WxgCIsICLjgobjgYbjgbPjgpPjgY3jgofjgY8iLCAi6YKu5bGAIiwgIm4iXSwgWyLnl4XpmaIiLCAi44Gz44KH44GG44GE44KTIiwgIuWMu+mZoiIsICJuIl0sIFsi5a2m5qChIiwgIuOBjOOBo+OBk+OBhiIsICLlrabmoKEiLCAibiJdLCBbIuWkp+WtpiIsICLjgaDjgYTjgYzjgY8iLCAi5aSn5a2mIiwgIm4iXSwgWyLpq5jmoKEiLCAi44GT44GG44GT44GGIiwgIumrmOS4rSIsICJuIl0sIFsi5bCP5a2m5qChIiwgIuOBl+OCh+OBhuOBjOOBo+OBk+OBhiIsICLlsI/lraYiLCAibiJdLCBbIuWbvSIsICLjgY/jgasiLCAi5Zu95a62IiwgIm4iXSwgWyLlpJblm70iLCAi44GM44GE44GT44GPIiwgIuWkluWbvSIsICJuIl0sIFsi5Lit5Zu9IiwgIuOBoeOCheOBhuOBlOOBjyIsICLkuK3lm70iLCAibiJdLCBbIuaXpeacrCIsICLjgavjgbvjgpMiLCAi5pel5pysIiwgIm4iXSwgWyLkuIoiLCAi44GG44GIIiwgIuS4iumdoiIsICJuIl0sIFsi5LiLIiwgIuOBl+OBnyIsICLkuIvpnaIiLCAibiJdLCBbIuWJjSIsICLjgb7jgYgiLCAi5YmN6Z2iIiwgIm4iXSwgWyLlvozjgo0iLCAi44GG44GX44KNIiwgIuWQjumdoiIsICJuIl0sIFsi5bemIiwgIuOBsuOBoOOCiiIsICLlt6bovrkiLCAibiJdLCBbIuWPsyIsICLjgb/jgY4iLCAi5Y+z6L65IiwgIm4iXSwgWyLkuK0iLCAi44Gq44GLIiwgIumHjOmdoiIsICJuIl0sIFsi5aSWIiwgIuOBneOBqCIsICLlpJbpnaIiLCAibiJdLCBbIumWkyIsICLjgYLjgYTjgaAiLCAi5Lit6Ze0IiwgIm4iXSwgWyLpmqMiLCAi44Go44Gq44KKIiwgIuaXgei+uSIsICJuIl0sIFsi6L+R44GPIiwgIuOBoeOBi+OBjyIsICLpmYTov5EiLCAibiJdLCBbIui/keaJgCIsICLjgY3jgpPjgZjjgociLCAi6ZmE6L+RIiwgIm4iXSwgWyLpgaDjgY8iLCAi44Go44GK44GPIiwgIui/nOWkhCIsICJuIl0sIFsi44GK6YeRIiwgIuOBiuOBi+OBrSIsICLpkrEiLCAibiJdLCBbIuaQuuW4r+mbu+ipsSIsICLjgZHjgYTjgZ/jgYTjgafjgpPjgo8iLCAi5omL5py6IiwgIm4iXSwgWyLjg5Hjgr3jgrPjg7MiLCAi44OR44K944Kz44OzIiwgIueUteiEkSIsICJuIl0sIFsi44Ko44Ki44Kz44OzIiwgIuOCqOOCouOCs+ODsyIsICLnqbrosIMiLCAibiJdLCBbIui7iiIsICLjgY/jgovjgb4iLCAi6L2mIiwgIm4iXSwgWyLoh6rou6Lou4oiLCAi44GY44Gm44KT44GX44KDIiwgIuiHquihjOi9piIsICJuIl0sIFsi6Zu76LuKIiwgIuOBp+OCk+OBl+OCgyIsICLnlLXovaYiLCAibiJdLCBbIuODkOOCuSIsICLjg5DjgrkiLCAi5YWs5Lqk6L2mIiwgIm4iXSwgWyLpo5/jgbnniakiLCAi44Gf44G544KC44GuIiwgIumjn+eJqSIsICJuIl0sIFsi6aOy44G/54mpIiwgIuOBruOBv+OCguOBriIsICLppa7mlpkiLCAibiJdLCBbIuawtCIsICLjgb/jgZoiLCAi5rC0IiwgIm4iXSwgWyLjgZTpo68iLCAi44GU44Gv44KTIiwgIumlrSIsICJuIl0sIFsi5pyNIiwgIuOBteOBjyIsICLooaPmnI0iLCAibiJdLCBbIumdtCIsICLjgY/jgaQiLCAi6Z6LIiwgIm4iXSwgWyLlpKnmsJciLCAi44Gm44KT44GNIiwgIuWkqeawlCIsICJuIl0sIFsi6ZuoIiwgIuOBguOCgSIsICLpm6giLCAibiJdLCBbIumbqiIsICLjgobjgY0iLCAi6ZuqIiwgIm4iXSwgWyLmmbTjgowiLCAi44Gv44KMIiwgIuaZtOWkqSIsICJuIl0sIFsi6Z+z5qW9IiwgIuOBiuOCk+OBjOOBjyIsICLpn7PkuZAiLCAibiJdLCBbIuaYoOeUu+mkqCIsICLjgYjjgYTjgYzjgYvjgpMiLCAi55S15b2x6ZmiIiwgIm4iXSwgWyLml4XooYwiLCAi44KK44KH44GT44GGIiwgIuaXheihjCIsICJuIl0sIFsi44OG44Os44OTIiwgIuODhuODrOODkyIsICLnlLXop4YiLCAibiJdLCBbIuOCq+ODoeODqSIsICLjgqvjg6Hjg6kiLCAi55u45py6IiwgIm4iXSwgWyLpm5HoqowiLCAi44GW44Gj44GXIiwgIuadguW/lyIsICJuIl0sIFsi44K544Oe44ObIiwgIuOCueODnuODmyIsICLmiYvmnLoiLCAibiJdLCBbIuODjuODvOODiCIsICLjg47jg7zjg4giLCAi56yU6K6w5pysIiwgIm4iXSwgWyLmtbciLCAi44GG44G/IiwgIua1tyIsICJuIl0sIFsi5rmWIiwgIuOBv+OBmuOBhuOBvyIsICLmuZYiLCAibiJdLCBbIuepuiIsICLjgZ3jgokiLCAi5aSp56m6IiwgIm4iXSwgWyLmmJ8iLCAi44G744GXIiwgIuaYn+aYnyIsICJuIl0sIFsi6LazIiwgIuOBguOBlyIsICLohJoiLCAibiJdLCBbIuaJiyIsICLjgaYiLCAi5omLIiwgIm4iXSwgWyLlj6MiLCAi44GP44GhIiwgIuWPoyIsICJuIl0sIFsi6aCtIiwgIuOBguOBn+OBviIsICLlpLQiLCAibiJdLCBbIumhlCIsICLjgYvjgYoiLCAi6IS4IiwgIm4iXSwgWyLnm64iLCAi44KBIiwgIuecvCIsICJuIl0sIFsi55y86Y+hIiwgIuOCgeOBjOOBrSIsICLnnLzplZwiLCAibiJdLCBbIuW4veWtkCIsICLjgbzjgYbjgZciLCAi5bi95a2QIiwgIm4iXSwgWyLjg43jgq/jgr/jgqQiLCAi44ON44Kv44K/44KkIiwgIumihuW4piIsICJuIl0sIFsi44GT44GoIiwgIuOBk+OBqCIsICLkuovmg4UiLCAibiJdLCBbIuOCguOBriIsICLjgoLjga4iLCAi5Lic6KW/IiwgIm4iXSwgWyLjgajjgZPjgo0iLCAi44Go44GT44KNIiwgIuWcsOaWuSIsICJuIl0sIFsi57SE5p2fIiwgIuOChOOBj+OBneOBjyIsICLnuqblrpoiLCAibiJdLCBbIuS6iOWumiIsICLjgojjgabjgYQiLCAi6K6h5YiSIiwgIm4iXSwgWyLllY/poYwiLCAi44KC44KT44Gg44GEIiwgIumXrumimCIsICJuIl0sIFsi6Kqs5piOIiwgIuOBm+OBpOOCgeOBhCIsICLor7TmmI4iLCAibiJdLCBbIuiAg+OBiCIsICLjgYvjgpPjgYzjgYgiLCAi5oOz5rOVIiwgIm4iXSwgWyLmsJfmjIHjgaEiLCAi44GN44KC44GhIiwgIuW/g+aDhSIsICJuIl0sIFsi5oSP5ZGzIiwgIuOBhOOBvyIsICLmhI/mgJ0iLCAibiJdLCBbIuODm+ODhuODqyIsICLjg5vjg4bjg6siLCAi6YWS5bqXIiwgIm4iXSwgWyLooYzjgY8iLCAi44GE44GPIiwgIuWOuyIsICJ2Il0sIFsi5p2l44KLIiwgIuOBj+OCiyIsICLmnaUiLCAidiJdLCBbIuW4sOOCiyIsICLjgYvjgYjjgosiLCAi5Zue5Y67IiwgInYiXSwgWyLpo5/jgbnjgosiLCAi44Gf44G544KLIiwgIuWQgyIsICJ2Il0sIFsi6aOy44KAIiwgIuOBruOCgCIsICLllp0iLCAidiJdLCBbIuimi+OCiyIsICLjgb/jgosiLCAi55yLIiwgInYiXSwgWyLogZ7jgY8iLCAi44GN44GPIiwgIuWQrCIsICJ2Il0sIFsi6Kqt44KAIiwgIuOCiOOCgCIsICLor7siLCAidiJdLCBbIuabuOOBjyIsICLjgYvjgY8iLCAi5YaZIiwgInYiXSwgWyLosrfjgYYiLCAi44GL44GGIiwgIuS5sCIsICJ2Il0sIFsi5pKu44KLIiwgIuOBqOOCiyIsICLmi43nhaciLCAidiJdLCBbIuOBmeOCiyIsICLjgZnjgosiLCAi5YGaIiwgInYiXSwgWyLkvJrjgYYiLCAi44GC44GGIiwgIuingemdoiIsICJ2Il0sIFsi5YiH44KLIiwgIuOBjeOCiyIsICLliIciLCAidiJdLCBbIumAgeOCiyIsICLjgYrjgY/jgosiLCAi6YCBIiwgInYiXSwgWyLjgYLjgZLjgosiLCAi44GC44GS44KLIiwgIue7mSIsICJ2Il0sIFsi44KC44KJ44GGIiwgIuOCguOCieOBhiIsICLlvpfliLAiLCAidiJdLCBbIuiyuOOBmSIsICLjgYvjgZkiLCAi5YCf5Ye6IiwgInYiXSwgWyLlgJ/jgorjgosiLCAi44GL44KK44KLIiwgIuWAn+WFpSIsICJ2Il0sIFsi5pWZ44GI44KLIiwgIuOBiuOBl+OBiOOCiyIsICLmlZkiLCAidiJdLCBbIue/kuOBhiIsICLjgarjgonjgYYiLCAi5a2m5LmgIiwgInYiXSwgWyLjgYvjgZHjgosiLCAi44GL44GR44KLIiwgIuaMgi/miZMiLCAidiJdLCBbIuOCj+OBi+OCiyIsICLjgo/jgYvjgosiLCAi5piO55m9IiwgInYiXSwgWyLjgYLjgosiLCAi44GC44KLIiwgIuaciSIsICJ2Il0sIFsi44GE44KLIiwgIuOBhOOCiyIsICLmnIkiLCAidiJdLCBbIumBiuOBtiIsICLjgYLjgZ3jgbYiLCAi546pIiwgInYiXSwgWyLms7PjgZAiLCAi44GK44KI44GQIiwgIua4uOazsyIsICJ2Il0sIFsi6L+O44GI44KLIiwgIuOCgOOBi+OBiOOCiyIsICLov47mjqUiLCAidiJdLCBbIueWsuOCjOOCiyIsICLjgaTjgYvjgozjgosiLCAi55ay5YqzIiwgInYiXSwgWyLntZDlqZrjgZnjgosiLCAi44GR44Gj44GT44KT44GZ44KLIiwgIue7k+WpmiIsICJ2Il0sIFsi6LK344GE54mp44GZ44KLIiwgIuOBi+OBhOOCguOBruOBmeOCiyIsICLotK3niakiLCAidiJdLCBbIuaVo+atqeOBmeOCiyIsICLjgZXjgpPjgb3jgZnjgosiLCAi5pWj5q2lIiwgInYiXSwgWyLplovjgZHjgosiLCAi44GC44GR44KLIiwgIuaJk+W8gCIsICJ2Il0sIFsi6ZaJ44KB44KLIiwgIuOBl+OCgeOCiyIsICLlhbPpl60iLCAidiJdLCBbIuOBpOOBkeOCiyIsICLjgaTjgZHjgosiLCAi5byA5ZCvIiwgInYiXSwgWyLmtojjgZkiLCAi44GR44GZIiwgIuWFs+mXrSIsICJ2Il0sIFsi5oCl44GQIiwgIuOBhOOBneOBkCIsICLmgKUiLCAidiJdLCBbIuW+heOBpCIsICLjgb7jgaQiLCAi562J5b6FIiwgInYiXSwgWyLmraLjgoHjgosiLCAi44Go44KB44KLIiwgIuWBnOatoiIsICJ2Il0sIFsi5puy44GM44KLIiwgIuOBvuOBjOOCiyIsICLmi5DlvK8iLCAidiJdLCBbIuaMgeOBpCIsICLjgoLjgaQiLCAi5oyB5pyJIiwgInYiXSwgWyLmiYvkvJ3jgYYiLCAi44Gm44Gk44Gg44GGIiwgIuW4ruW/mSIsICJ2Il0sIFsi5ZG844G2IiwgIuOCiOOBtiIsICLlkbzlj6siLCAidiJdLCBbIuipseOBmSIsICLjga/jgarjgZkiLCAi6K+06K+dIiwgInYiXSwgWyLopovjgZvjgosiLCAi44G/44Gb44KLIiwgIuWHuuekuiIsICJ2Il0sIFsi5aeL44KB44KLIiwgIuOBr+OBmOOCgeOCiyIsICLlvIDlp4siLCAidiJdLCBbIuimmuOBiOOCiyIsICLjgYrjgbzjgYjjgosiLCAi6K6w5L2PIiwgInYiXSwgWyLlv5jjgozjgosiLCAi44KP44GZ44KM44KLIiwgIuW/mOiusCIsICJ2Il0sIFsi44Gq44GP44GZIiwgIuOBquOBj+OBmSIsICLkuKLlpLEiLCAidiJdLCBbIuaJleOBhiIsICLjga/jgonjgYYiLCAi5pSv5LuYIiwgInYiXSwgWyLov5TjgZkiLCAi44GL44GI44GZIiwgIuW9kui/mCIsICJ2Il0sIFsi5Ye644GL44GR44KLIiwgIuOBp+OBi+OBkeOCiyIsICLlh7rpl6giLCAidiJdLCBbIuiEseOBkCIsICLjgazjgZAiLCAi6ISxIiwgInYiXSwgWyLmjIHjgaPjgabjgYTjgY8iLCAi44KC44Gj44Gm44GE44GPIiwgIuW4puWOuyIsICJ2Il0sIFsi55m744KLIiwgIuOBruOBvOOCiyIsICLnmbvlsbEiLCAidiJdLCBbIuaziuOBvuOCiyIsICLjgajjgb7jgosiLCAi5L2P5a6/IiwgInYiXSwgWyLmjoPpmaTjgZnjgosiLCAi44Gd44GG44GY44GZ44KLIiwgIuaJk+aJqyIsICJ2Il0sIFsi5rSX5r+v44GZ44KLIiwgIuOBm+OCk+OBn+OBj+OBmeOCiyIsICLmtJfooaPmnI0iLCAidiJdLCBbIuOBquOCiyIsICLjgarjgosiLCAi5Y+Y5oiQIiwgInYiXSwgWyLopoHjgosiLCAi44GE44KLIiwgIumcgOimgSIsICJ2Il0sIFsi6Kq/44G544KLIiwgIuOBl+OCieOBueOCiyIsICLosIPmn6UiLCAidiJdLCBbIuebtOOBmSIsICLjgarjgYrjgZkiLCAi5L+u55CGIiwgInYiXSwgWyLogIPjgYjjgosiLCAi44GL44KT44GM44GI44KLIiwgIuaAneiAgyIsICJ2Il0sIFsi552A44GPIiwgIuOBpOOBjyIsICLliLDovr4iLCAidiJdLCBbIuWPluOCiyIsICLjgajjgosiLCAi5Y+WIiwgInYiXSwgWyLplovjgY8iLCAi44GC44GPIiwgIuW8gOedgCIsICJ2Il0sIFsi6ZaJ44G+44KLIiwgIuOBl+OBvuOCiyIsICLlhbPnnYAiLCAidiJdLCBbIuWjiuOCjOOCiyIsICLjgZPjgo/jgozjgosiLCAi5Z2P5LqGIiwgInYiXSwgWyLokL3jgajjgZkiLCAi44GK44Go44GZIiwgIuiQveS4iyIsICJ2Il0sIFsi6LK844KLIiwgIuOBr+OCiyIsICLotLQiLCAidiJdLCBbIumjvuOCiyIsICLjgYvjgZbjgosiLCAi6KOF6aWwIiwgInYiXSwgWyLkuKbjgbnjgosiLCAi44Gq44KJ44G544KLIiwgIuaOkuWIlyIsICJ2Il0sIFsi54mH5LuY44GR44KLIiwgIuOBi+OBn+OBpeOBkeOCiyIsICLmlbTnkIYiLCAidiJdLCBbIue2muOBjyIsICLjgaTjgaXjgY8iLCAi57un57utIiwgInYiXSwgWyLopovjgaTjgZHjgosiLCAi44G/44Gk44GR44KLIiwgIuaJvuWIsCIsICJ2Il0sIFsi5Y+X44GR44KLIiwgIuOBhuOBkeOCiyIsICLmjqXlj5ciLCAidiJdLCBbIuWFpeWtpuOBmeOCiyIsICLjgavjgoXjgYbjgYzjgY/jgZnjgosiLCAi5YWl5a2mIiwgInYiXSwgWyLljZLmpa3jgZnjgosiLCAi44Gd44Gk44GO44KH44GG44GZ44KLIiwgIuavleS4miIsICJ2Il0sIFsi6YGL5YuV44GZ44KLIiwgIuOBhuOCk+OBqeOBhuOBmeOCiyIsICLov5DliqgiLCAibiJdLCBbIuWQiOagvOOBmeOCiyIsICLjgZTjgYbjgYvjgY/jgZnjgosiLCAi5Y+K5qC8IiwgIm4iXV0=");
    const allData = JSON.parse(new TextDecoder().decode(new Uint8Array([...decodedData].map(char => char.charCodeAt(0)))));
    const kanaFull = "„ÅÇ„ÅÑ„ÅÜ„Åà„Åä„Åã„Åç„Åè„Åë„Åì„Åï„Åó„Åô„Åõ„Åù„Åü„Å°„Å§„Å¶„Å®„Å™„Å´„Å¨„Å≠„ÅÆ„ÅØ„Å≤„Åµ„Å∏„Åª„Åæ„Åø„ÇÄ„ÇÅ„ÇÇ„ÇÑ„ÇÜ„Çà„Çâ„Çä„Çã„Çå„Çç„Çè„Çí„Çì„Åå„Åé„Åê„Åí„Åî„Åñ„Åò„Åö„Åú„Åû„Å†„Å¢„Å•„Åß„Å©„Å∞„Å≥„Å∂„Åπ„Åº„Å±„Å¥„Å∑„Å∫„ÅΩ„Å£„Çá„ÇÖ„ÇÉ";
    let currentLvl = 1, score = 0, wordIndex = 0, levelWords = [], rDone = false, mDone = false, hasError = false, currentSpell = "", targetSpell = "", currentLockedPool = [];
    let gameHistory = { unlockedMax: 1, levelResults: {}, medals: [] };
    const mascot = {
        update: (f, m) => { document.getElementById('mascot-face').innerText = f; document.getElementById('mascot-msg').innerText = m; },
        happy: () => mascot.update('(‡πë‚Ä¢ÃÄ„ÖÇ‚Ä¢ÃÅ)Ÿà‚úß', '„Åï„Åô„ÅåÔºÅ'),
        sad: () => mascot.update('(‚ïØÔπè‚ï∞)', '„Éâ„É≥„Éû„Ç§')
    };
    function init() {
        const raw = localStorage.getItem('jp_spring_ultimate_v6');
        if(raw) { try { const d = JSON.parse(raw); gameHistory = d.history || gameHistory; currentLvl = Math.min(16, parseInt(d.currentLvl)||1); } catch(e) { currentLvl = 1; } }
        if (currentLvl < 1 || currentLvl > 16) currentLvl = 1;
        renderLevels(); loadLevel(currentLvl);
    }
    function save() { localStorage.setItem('jp_spring_ultimate_v6', JSON.stringify({currentLvl, history: gameHistory})); }
    function resetProgress() { if(confirm("Á°ÆÂÆöÈáçÁΩÆËøõÂ∫¶Ôºü")) { localStorage.removeItem('jp_spring_ultimate_v6'); location.reload(); } }
    function renderLevels() {
        const con = document.getElementById('lvl-selector'); con.innerHTML = '';
        for(let i=1; i<=16; i++) {
            const btn = document.createElement('button'); btn.className = 'lvl-btn' + (i==currentLvl?' active':'');
            btn.innerText = `L${i} ${gameHistory.levelResults[i]||''}`;
            btn.onclick = () => { if(i<=gameHistory.unlockedMax) loadLevel(i); };
            if(i > gameHistory.unlockedMax) btn.style.opacity = '0.3';
            con.appendChild(btn);
        }
        const mCon = document.getElementById('medals-container'); mCon.innerHTML = '';
        gameHistory.medals.forEach(m => { const s = document.createElement('span'); s.className = 'medal'; s.innerText = m; mCon.appendChild(s); });
    }
    function loadLevel(lvl) {
        currentLvl = lvl; wordIndex = 0; score = 0;
        document.getElementById('result-overlay').classList.add('hidden');
        const raw = allData.slice((lvl-1)*20, lvl*20);
        levelWords = raw.map((d, i) => {
            const isPureKana = /^[ \u3040-\u309F\u30A0-\u30FF\u30FC]+$/.test(d[0]);
            return { data: d, type: isPureKana ? 'choice' : ((i>=10) ? 'spell' : 'choice') };
        }).sort(()=>Math.random()-0.5);
        document.getElementById('current-lvl-disp').innerText = lvl;
        renderLevels(); loadQuestion();
    }
    function loadQuestion() {
        const q = levelWords[wordIndex]; const d = q.data;
        const display = document.getElementById('word-display');
        display.innerText = d[0]; display.classList.remove('word-glow');
        if(d[0].length > 8) display.style.fontSize = "min(6vh, 35px)";
        else if(d[0].length > 6) display.style.fontSize = "min(8vh, 45px)";
        else if(d[0].length > 4) display.style.fontSize = "min(11vh, 60px)";
        else display.style.fontSize = "min(14vh, 85px)";
        document.getElementById('feedback').innerText = '';
        document.getElementById('progress').innerText = (wordIndex + 1);
        hasError = false; mascot.update('(ÔΩ°ÔΩ•œâÔΩ•ÔΩ°)', '„Åå„Çì„Å∞„Å£„Å¶ÔºÅ');
        if(q.type == 'choice') {
            document.getElementById('choice-area').classList.remove('hidden'); document.getElementById('spell-area').classList.add('hidden');
            document.getElementById('furigana-area').classList.add('hidden');
            rDone = /^[ \u3040-\u309F\u30A0-\u30FF\u30FC]+$/.test(d[0]); mDone = false;
            setupChoiceZone('reading', d[1], rDone); setupChoiceZone('meaning', d[2], mDone);
        } else {
            document.getElementById('choice-area').classList.add('hidden'); document.getElementById('spell-area').classList.remove('hidden');
            document.getElementById('furigana-area').classList.remove('hidden');
            targetSpell = d[1]; currentSpell = ''; generateUniqueLockedPool(targetSpell); renderSpellUI();
        }
    }
    function generateUniqueLockedPool(target) {
        let chars = [...new Set(target.split(''))]; 
        while(chars.length < 10) {
            let r = kanaFull[Math.floor(Math.random()*kanaFull.length)];
            if(!chars.includes(r)) chars.push(r);
        }
        currentLockedPool = chars.sort(()=>Math.random()-0.5);
    }
    function setupChoiceZone(type, correct, done) {
        const opts = document.getElementById(type+'-opts');
        opts.parentElement.classList.toggle('hidden', done);
        if(done) return; opts.innerHTML = '';
        let pool = [];
        if(type=='reading') {
            while(pool.length<3) { let f = correct[0] + kanaFull[Math.floor(Math.random()*kanaFull.length)] + correct.slice(1); if(f!=correct) pool.push(f); }
        } else {
            pool = allData.filter(x=>x[3]==levelWords[wordIndex].data[3] && x[2]!=correct).sort(()=>Math.random()-0.5).slice(0,3).map(x=>x[2]);
        }
        [correct, ...pool].sort(()=>Math.random()-0.5).forEach(o => {
            const b = document.createElement('button'); b.className = 'opt-btn'; b.innerText = o;
            b.onclick = () => { if(o == correct) { b.classList.add('correct'); sounds.click(); if(type=='reading') rDone=true; else mDone=true; if(rDone&&mDone) win(); } else { b.classList.add('wrong'); sounds.wrong(); handleFailure(); } };
            opts.appendChild(b);
        });
    }
    function renderSpellUI() {
        const fCon = document.getElementById('furigana-area'); fCon.innerHTML = '';
        for(let i=0; i<targetSpell.length; i++) {
            const char = currentSpell[i] || '';
            const s = document.createElement('div'); s.className = 'furi-char' + (char?' filled':''); s.innerText = char;
            if(char) s.onclick = () => { currentSpell = currentSpell.substring(0,i)+currentSpell.substring(i+1); sounds.click(); renderSpellUI(); };
            fCon.appendChild(s);
        }
        const pCon = document.getElementById('kana-pool'); pCon.innerHTML = '';
        currentLockedPool.forEach(c => {
            const b = document.createElement('div'); b.className = 'kana-block'; b.innerText = c;
            b.onclick = () => {
                if(currentSpell.length >= targetSpell.length) return;
                b.classList.add('clicked'); setTimeout(()=>b.classList.remove('clicked'),100);
                sounds.click(); currentSpell += c; renderSpellUI();
                if(currentSpell.length == targetSpell.length) {
                    if(currentSpell == targetSpell) win();
                    else { sounds.wrong(); handleFailure(); currentSpell=''; setTimeout(renderSpellUI, 400); }
                }
            };
            pCon.appendChild(b);
        });
    }
    function win() {
        if(!hasError) score += 5;
        sounds.correct(); mascot.happy();
        document.getElementById('word-display').classList.add('word-glow');
        fireConfetti();
        setTimeout(() => { wordIndex++; if(wordIndex < 20) loadQuestion(); else showFinalOverlay(); }, 800);
    }
    function handleFailure() {
        hasError = true; mascot.sad();
        const flash = document.getElementById('thunder-flash');
        const body = document.getElementById('main-body');
        flash.classList.add('flash-active'); body.classList.add('shake-screen');
        setTimeout(() => { flash.classList.remove('flash-active'); body.classList.remove('shake-screen'); }, 300);
    }
    function showFinalOverlay() {
        const ov = document.getElementById('result-overlay'); ov.classList.remove('hidden');
        const rate = score/100; let icon = '';
        if(rate >= 0.9) icon='üèÜ'; else if(rate >= 0.8) icon='üèÖ';
        if(icon) {
            const old = gameHistory.levelResults[currentLvl];
            if(!old || (old=='üèÖ' && icon=='üèÜ')) gameHistory.levelResults[currentLvl] = icon;
            gameHistory.medals.push(icon); gameHistory.unlockedMax = Math.max(gameHistory.unlockedMax, currentLvl+1);
            save(); renderLevels();
        }
    }
    function nextLevelAction() { loadLevel(currentLvl+1); }
    function fireConfetti() {
        const colors = ['#ff9aa2', '#ffb7b2', '#ffdac1', '#e2f0cb', '#b5ead7'];
        for(let i=0; i<35; i++) { 
            const el = document.createElement('div'); el.className = 'confetti';
            el.style.left = Math.random()*100+'vw'; el.style.backgroundColor = colors[Math.floor(Math.random()*colors.length)];
            el.style.animationDuration = (Math.random()*0.5+0.4)+'s'; document.body.appendChild(el);
            setTimeout(()=>el.remove(), 900);
        }
    }
    window.onload = init;
</script>
</body>
</html>
